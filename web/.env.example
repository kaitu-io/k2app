# Payload CMS Configuration
# ==========================
# Manager URL: /manager (no i18n, direct access)
# CMS Admin: /manager/cms
# CMS API: /manager/cms/api

# Database - PostgreSQL connection string
# For local development: postgresql://user:password@localhost:5432/kaitu_cms
# For Amplify: Use the DATABASE_URI from RDS or external PostgreSQL
DATABASE_URI=postgresql://user:password@localhost:5432/kaitu_cms

# Payload Secret - at least 32 characters, used for encryption
# Generate with: openssl rand -base64 32
PAYLOAD_SECRET=your-secret-key-here-at-least-32-characters

# S3 Storage Configuration
# =========================
# Required: Bucket name
S3_BUCKET=kaitu-media

# AWS S3 (on Amplify with IAM Role):
# -----------------------------------
# Just set S3_BUCKET and S3_REGION - credentials come from IAM role automatically!
# S3_REGION=us-east-1
#
# Make sure your Amplify service role has these S3 permissions:
#   - s3:GetObject
#   - s3:PutObject
#   - s3:DeleteObject
#   - s3:ListBucket

# Cloudflare R2 or other S3-compatible:
# --------------------------------------
# S3_REGION=auto
# S3_ENDPOINT=https://<account_id>.r2.cloudflarestorage.com
# S3_ACCESS_KEY_ID=your-access-key-id
# S3_SECRET_ACCESS_KEY=your-secret-access-key

S3_REGION=us-east-1
# S3_ENDPOINT=                    # Leave empty for native AWS S3
# S3_ACCESS_KEY_ID=               # Optional: only needed for R2 or local dev
# S3_SECRET_ACCESS_KEY=           # Optional: only needed for R2 or local dev

# CDN URL for media files (optional)
# If using CloudFront or R2 public domain, set this for better performance
# S3_CDN_URL=https://cdn.yourdomain.com

# AI Content Processing (Optional)
# ==================================
# Enable AI-powered content generation for articles
AI_ENABLED=false

# AI Provider: 'anthropic', 'openai', or 'deepseek'
AI_PROVIDER=deepseek

# API Key for the AI provider
AI_API_KEY=your-ai-api-key

# AI Model to use
# For Anthropic: claude-3-haiku-20240307, claude-3-sonnet-20240229, etc.
# For OpenAI: gpt-4o-mini, gpt-4o, etc.
# For DeepSeek: deepseek-chat (recommended, cost-effective)
AI_MODEL=deepseek-chat

# Kaitu Auth Integration (Optional)
# ==================================
# Enable single sign-on with Kaitu main system
# This allows users with CMS roles to access Payload CMS using their Kaitu credentials

# JWT Secret - must match kaitu-center's jwt.secret config
# Used to verify access_token cookie from Kaitu system
JWT_SECRET=your-jwt-secret-from-kaitu-center
